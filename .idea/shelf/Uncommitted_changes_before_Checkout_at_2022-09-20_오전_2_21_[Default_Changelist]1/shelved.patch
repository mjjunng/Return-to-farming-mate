Index: app/src/main/java/com/android/become_a_farmer/service/RecommendBasedUserService.java
===================================================================
diff --git a/app/src/main/java/com/android/become_a_farmer/service/RecommendBasedUserService.java b/app/src/main/java/com/android/become_a_farmer/service/RecommendBasedUserService.java
new file mode 100644
--- /dev/null	
+++ b/app/src/main/java/com/android/become_a_farmer/service/RecommendBasedUserService.java	
@@ -0,0 +1,149 @@
+package com.android.become_a_farmer.service;
+
+import android.util.Log;
+
+import androidx.annotation.NonNull;
+
+import com.android.become_a_farmer.DataClass;
+import com.android.become_a_farmer.RatingDataClass;
+import com.android.become_a_farmer.retrofit.RetrofitAPI;
+import com.android.become_a_farmer.retrofit.RetrofitClient;
+import com.google.android.gms.tasks.OnCompleteListener;
+import com.google.android.gms.tasks.Task;
+import com.google.firebase.firestore.FirebaseFirestore;
+import com.google.firebase.firestore.QueryDocumentSnapshot;
+import com.google.firebase.firestore.QuerySnapshot;
+
+import org.json.JSONArray;
+import org.json.JSONException;
+import org.json.JSONObject;
+
+import java.util.HashMap;
+import java.util.List;
+import java.util.Map;
+
+import retrofit2.Call;
+import retrofit2.Callback;
+import retrofit2.Response;
+import retrofit2.Retrofit;
+
+public class RecommendBasedUserService {
+    // 싱글톤 패턴
+    private static RecommendBasedUserService recommendBasedUserService =
+            new RecommendBasedUserService();
+    private FirebaseFirestore db;
+    private Retrofit retrofit = RetrofitClient.getInstance();
+    private RetrofitAPI service = retrofit.create(RetrofitAPI.class);
+    private String email = new AuthenticationService().getUserEmail();
+    private static String TAG = "[RecommendBasedUserService.java]";
+
+    private RecommendBasedUserService () {}
+
+    public static RecommendBasedUserService getInstance(){
+        return recommendBasedUserService;
+    }
+
+    public void setDb(FirebaseFirestore db) {
+        this.db = db;
+    }
+
+    // firestore에 저장된 rating JSON 형식으로 가져오고 가져온 ratings 서버에 보내기
+    public void getRatingFromDB(){
+        try{
+            // firestore에서 rating을 json 형식으로 바꾸기
+            db.collection("ratings")
+                    .get()
+                    .addOnCompleteListener(new OnCompleteListener<QuerySnapshot>() {
+                        @Override
+                        public void onComplete(@NonNull Task<QuerySnapshot> task) {
+                            if (task.isSuccessful()) {
+                                Map<String, JSONObject> hashMap = new HashMap();
+                                for (QueryDocumentSnapshot document : task.getResult()) {
+                                    try {
+                                        JSONObject jsonObject = mapToJSON(document.getData());
+                                        hashMap.put(document.getId(), jsonObject);
+                                    } catch (JSONException e) {
+                                        e.printStackTrace();
+                                    }
+                                }
+
+                                String ratingsJson = new JSONObject(hashMap).toString();
+
+                                // 파이썬 서버로 rating 데이터 전송
+                                sendRatingData(ratingsJson);
+
+                            }
+                        }
+
+                    });
+
+        } catch (Exception e){
+            Log.e(getClass().toString(), e.getMessage());
+        }
+    }
+
+
+    // 가져온 ratings와 이메일을 서버로 보내기
+    public void sendRatingData(String ratings){
+        RatingDataClass data = new RatingDataClass(email, ratings);
+        service.getRegionsFromUser(data).enqueue(new Callback<DataClass>() {
+            @Override
+            public void onResponse(Call<DataClass> call, Response<DataClass> response) {
+            }
+
+            @Override
+            public void onFailure(Call<DataClass> call, Throwable t) {
+                Log.e(TAG, t.getMessage());
+            }
+        });
+
+    }
+
+
+    // user-user collaborate로 추천받은 지역을 user의 recommendRegions 필드 값에 추가시킨다. --> 서버로 이전
+//    public void updateUserDataRegions(String email, String regions){
+//        // recommendRegions 필드 배열에 값 추가
+//        DocumentReference docRef = db.collection("users").document(email);
+//        String[] regionsList = regions.split(",");
+//        if (0 < regionsList.length){
+//            for (int i=0; i<regionsList.length; i++) {
+//                docRef.update("recommendRegionsBasedUser", FieldValue.arrayUnion(regionsList[i]));
+//            }
+//        }
+//
+//    }
+
+    private JSONObject mapToJSON(Map<String, Object> map) throws JSONException {
+        JSONObject obj = new JSONObject();
+        for (Map.Entry<String, Object> entry : map.entrySet()) {
+            String key = entry.getKey();
+            Object value = entry.getValue();
+            if (value instanceof Map) {
+                Map<String, Object> subMap = (Map<String, Object>) value;
+                obj.put(key, mapToJSON(subMap));
+            } else if (value instanceof List) {
+                obj.put(key, listToJSONArray((List) value));
+            }
+            else {
+                obj.put(key, value);
+            }
+        }
+        return obj;
+    }
+
+    private JSONArray listToJSONArray(List<Object> list) throws JSONException {
+        JSONArray arr = new JSONArray();
+        for(Object obj: list) {
+            if (obj instanceof Map) {
+                arr.put(mapToJSON((Map) obj));
+            }
+            if(obj instanceof List) {
+                arr.put(listToJSONArray((List) obj));
+            }
+            else {
+                arr.put(obj);
+            }
+        }
+        return arr;
+    }
+}
Index: app/src/main/java/com/android/become_a_farmer/RatingDataClass.java
===================================================================
diff --git a/app/src/main/java/com/android/become_a_farmer/RatingDataClass.java b/app/src/main/java/com/android/become_a_farmer/RatingDataClass.java
new file mode 100644
--- /dev/null	
+++ b/app/src/main/java/com/android/become_a_farmer/RatingDataClass.java	
@@ -0,0 +1,25 @@
+package com.android.become_a_farmer;
+
+import com.google.gson.annotations.SerializedName;
+
+public class RatingDataClass {
+
+    @SerializedName("email")
+    public String email;
+
+    @SerializedName("body")
+    public String body;
+
+    public RatingDataClass(String email, String body) {
+        this.email = email;
+        this.body = body;
+    }
+
+    public String getEmail() {
+        return email;
+    }
+
+    public String getBody() {
+        return body;
+    }
+}
Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20_오전_12_59_[Default_Changelist]/shelved.patch
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20_오전_12_59_[Default_Changelist]/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20_오전_12_59_[Default_Changelist]/shelved.patch
new file mode 100644
--- /dev/null	
+++ b/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20_오전_12_59_[Default_Changelist]/shelved.patch	
@@ -0,0 +1,17 @@
+Index: .idea/misc.xml
+IDEA additional info:
+Subsystem: com.intellij.openapi.diff.impl.patch.BaseRevisionTextPatchEP
+<+><?xml version=\"1.0\" encoding=\"UTF-8\"?>\r\n<project version=\"4\">\r\n  <component name=\"DesignSurface\">\r\n    <option name=\"filePathToZoomLevelMap\">\r\n      <map>\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/drawable/ch_guinong.xml\" value=\"0.1953125\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/drawable/spinner_background.xml\" value=\"0.1953125\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/font/font.xml\" value=\"0.209375\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_cart_main.xml\" value=\"0.13072916666666667\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_choice_age.xml\" value=\"0.13333333333333333\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_choose_keyword.xml\" value=\"0.13043478260869565\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_choose_planning_type.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_choose_prefferd_type.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_finish_planner.xml\" value=\"0.14666666666666667\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_home_main.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_login.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_main.xml\" value=\"0.15443840579710144\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_modify_plan.xml\" value=\"0.14666666666666667\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_modify_user_info.xml\" value=\"0.14666666666666667\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_new_main.xml\" value=\"0.17916666666666667\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_planner_main.xml\" value=\"0.12771739130434784\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_region_info.xml\" value=\"0.1213768115942029\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_register.xml\" value=\"0.3333333333333333\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_select_crop.xml\" value=\"0.12\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_select_education.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_select_land.xml\" value=\"0.1\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_select_region.xml\" value=\"0.22\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_select_register.xml\" value=\"0.15625\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_splash.xml\" value=\"0.14666666666666667\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/activity_user_main.xml\" value=\"0.13333333333333333\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/custom_actionbar.xml\" value=\"0.16077898550724637\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/item_recycler.xml\" value=\"0.5\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/select_house.xml\" value=\"0.3333333333333333\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/layout/spinner_background.xml\" value=\"0.1598731884057971\" />\r\n        <entry key=\"..\\:/Users/jungminji/StudioProjects/Return-to-farming-mate/app/src/main/res/menu/bottomnavigationveiw.xml\" value=\"0.17916666666666667\" />\r\n      </map>\r\n    </option>\r\n  </component>\r\n  <component name=\"ProjectRootManager\" version=\"2\" languageLevel=\"JDK_11\" project-jdk-name=\"1.8\" project-jdk-type=\"JavaSDK\">\r\n    <output url=\"file://$PROJECT_DIR$/build/classes\" />\r\n  </component>\r\n  <component name=\"ProjectType\">\r\n    <option name=\"id\" value=\"Android\" />\r\n  </component>\r\n</project>
+===================================================================
+diff --git a/.idea/misc.xml b/.idea/misc.xml
+--- a/.idea/misc.xml	
++++ b/.idea/misc.xml	
+@@ -36,7 +36,7 @@
+       </map>
+     </option>
+   </component>
+-  <component name="ProjectRootManager" version="2" languageLevel="JDK_11" project-jdk-name="1.8" project-jdk-type="JavaSDK">
++  <component name="ProjectRootManager" version="2" languageLevel="JDK_1_8" default="true" project-jdk-name="1.8" project-jdk-type="JavaSDK">
+     <output url="file://$PROJECT_DIR$/build/classes" />
+   </component>
+   <component name="ProjectType">
Index: .idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20__12_59__Default_Changelist_.xml
===================================================================
diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20__12_59__Default_Changelist_.xml b/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20__12_59__Default_Changelist_.xml
new file mode 100644
--- /dev/null	
+++ b/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20__12_59__Default_Changelist_.xml	
@@ -0,0 +1,4 @@
+<changelist name="Uncommitted_changes_before_Checkout_at_2022-09-20_오전_12_59_[Default_Changelist]" date="1663603166235" recycled="false" toDelete="true">
+  <option name="PATH" value="$PROJECT_DIR$/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20_오전_12_59_[Default_Changelist]/shelved.patch" />
+  <option name="DESCRIPTION" value="Uncommitted changes before Checkout at 2022-09-20 오전 12:59 [Default Changelist]" />
+</changelist>
\ No newline at end of file
diff --git a/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20_오전_12_59_[Default_Changelist]1/shelved.patch b/.idea/shelf/Uncommitted_changes_before_Checkout_at_2022-09-20_오전_12_59_[Default_Changelist]1/shelved.patch
new file mode 100644
